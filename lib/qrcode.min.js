function QRCode(el, opts){const c=document.createElement('canvas');c.width=opts.width||128;c.height=opts.height||128;const x=c.getContext('2d');x.fillStyle='#fff';x.fillRect(0,0,c.width,c.height);x.fillStyle='#000';const d=new TextEncoder().encode(opts.text);let i=0;const s=Math.ceil(Math.sqrt(d.length*8));const scale=c.width/s;for(let y=0;y<s;y++){for(let h=0;h<s;h++){const b=y*s+h;const byte=d[Math.floor(b/8)]||0;const bit=(byte>>(b%8))&1;if(bit)x.fillRect(h*scale,y*scale,scale,scale);}}el.appendChild(c);}
